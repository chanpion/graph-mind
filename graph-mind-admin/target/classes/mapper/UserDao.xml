<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chenpp.graph.admin.mapper.UserDao">

    <select id="selectUserPage" resultType="com.chenpp.graph.admin.model.User">
        SELECT 
            user_id,
            username,
            nickname,
            password,
            phone_number,
            email,
            sex,
            status,
            create_time,
            update_time
        FROM sys_user
        <where>
            <if test="username != null and username != ''">
                &amp;AND username LIKE CONCAT('%', #{username}, '%')
            </if>
            <if test="phoneNumber != null and phoneNumber != ''">
                &amp;AND phone_number LIKE CONCAT('%', #{phoneNumber}, '%')
            </if>
            <if test="status != null">
                &amp;AND status = #{status}
            </if>
        </where>
        ORDER BY user_id DESC
    </select>
</mapper>